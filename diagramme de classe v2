classDiagram
direction TB
    class Cellule {
	    - int x 
	    - int y
        - Etat* etat
        + Cellule (int x, int y, bool )
	    + getEtat() Etat*
        + setEtat(Etat* nouveauEtat) 
	    + estVivant() bool
    }

    class Etat {
	    + estVivant() virtual bool
    }
	<<abstract>> Etat

    class Regle {
        + ~Regle() virtual
	    + Transition() virtual Etat
    }
    <<abstract>> Regle

    class RegleConway {
        +Transition (Grille* grille, Cellule* cellule) Etat override  
    }

    class Grille {
	    - int largeur
	    - int longueur
	    - cells Cellule[][]
	    + Grille(int longueur, int largeur)
        + ~Grille()
        + GetCellule(int i, int j) Cellule&
        + Voisin (int i, int j) int 
        + InitialiserDepuisFichier(Fichier& fichier) void
        + Iteration(Regle& regle) void
        + DepuisMatrice (bool** matrice) void
        + VersMatrice () bool**
        + Copier (Grille* nouvelle) void
        + pasDeSimulation() void
    }

    class Vivant {
	    + estVivant() bool override
    }

    class Mort {
	    + estVivant() bool override
    }

    class GUI {
        - Taille
	    + AfficherGrille(Grille& grille) void override
        + DemarrerGUI() void
        + ArreterGUI() void

    }

    class Jeu {
        - int nbIteration
        - int nbIterationCPT 
        - bool enExecution
        - Grille* grilleInitiale
	    + Jeu()
        + ~Jeu()
        + setGrille(Grille* g) void
        + setRegle(Regle* r) void
        + setAffichage(Affichage* a) void
        + chargerDepuisFichier(string chemin) void
        + Demarrer() void
        + Arreter() void
        + Reset() void

    }
    class Affichage {
        + ~Affichage() virtual
        + AfficherGrille (Grille& grille) virtual void 

    }
    <<abstract>> Affichage 

    class ModeConsole {
	    + AfficherGrille(Grille& grille) void override
    }

    class Fichier {
        

        - int largeur
        - int longueur
        - int matriceInitiale  
        + Fichier()
        + ~Fichier()  // Destructeur pour libérer la mémoire de la matrice
        + ChargerFichierInitial(string chemin) void
        + CreationFichierIteration(string chemin, Grille& grille) void
        + GetLargeur() int
        + GetLongueur() int
        + GetMatriceInitiale() vector< vector< int>> const


    }

    class TestUnitaire {
        + verifierTransition(Grille& initial, Regle& regle, int iterations, bool** attendu) bool
    }


    Affichage <|-- ModeConsole
    Affichage <|-- GUI
    Cellule *-- Etat
    Grille *-- Cellule

    Etat <|-- Vivant
    Etat <|-- Mort
    Regle <|-- RegleConway

    Jeu o-- Grille
    Jeu o-- Affichage
    Grille o-- Regle
    Jeu o-- Fichier
